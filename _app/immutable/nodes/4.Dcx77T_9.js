import{f as x,a as y,c as ne}from"../chunks/CQas00RX.js";import{o as xe}from"../chunks/AhRT4trG.js";import{h as F,e as me,aA as ye,b as pe,aB as ie,f as Me,g as ke,s as we,i as le,U as re,v as Q,x as ce,w as ve,a as Z,K as ze,c as ge,an as de,am as ue,aC as fe,O as Te,j as he,p as J,aw as Ce,aD as Ee,aE as Ne,V as be,Y as f,W as M,Z as u,_ as O,m as i,X as Se,ax as ee,a7 as Ie,M as te,a8 as W,aF as $e}from"../chunks/DD_8n6WL.js";import{s as D,d as He}from"../chunks/DRtSWgzy.js";import{i as R}from"../chunks/kMYR6PAW.js";import{g as Pe}from"../chunks/Ctk5V1g8.js";import{e as Y,i as j}from"../chunks/BqzCvA3l.js";import{s as Ae}from"../chunks/9wtmSZGG.js";const ae=0,G=1,se=2;function De(v,s,r,d,a){F&&me();var o=v,c=ye(),h=Te,_=re,p,k,w,l=c?ce(void 0):ve(void 0,!1,!1),g=c?ce(void 0):ve(void 0,!1,!1),b=!1;function S(t,e){b=!0,e&&(de(N),ue(N),fe(h));try{t===ae&&r&&(p?he(p):p=Z(()=>r(o))),t===G&&d&&(k?he(k):k=Z(()=>d(o,l))),t!==ae&&p&&J(p,()=>p=null),t!==G&&k&&J(k,()=>k=null),t!==se&&w&&J(w,()=>w=null)}finally{e&&(fe(null),ue(null),de(null),Ce())}}var N=pe(()=>{if(_===(_=s()))return;let t=F&&ie(_)===(o.data===Me);if(t&&(o=ke(),we(o),le(!1),t=!0),ie(_)){var e=_;b=!1,e.then(n=>{e===_&&(Q(l,n),S(G,!0))},n=>{if(e===_)throw Q(g,n),S(se,!0),g.v}),F?r&&(p=Z(()=>r(o))):ze(()=>{b||S(ae,!0)})}else Q(l,_),S(G,!1);return t&&le(!0),()=>_=re});F&&(o=ge)}function Fe(v,s,r){F&&me();var d=v,a=re,o,c=ye()?Ee:Ne;pe(()=>{c(a,a=s())&&(o&&J(o),o=Z(()=>r(d)))}),F&&(d=ge)}function Ue(v){return v.reduce((s,r)=>s.flatMap(d=>r.map(a=>[...d,a])),[[]])}function oe(v,s){if(s===0)return[[]];if(v.length<s)return[];const[r,...d]=v,a=oe(d,s-1).map(c=>[r,...c]),o=oe(d,s);return[...a,...o]}function Be(v,s){for(const r of v.days)for(const d of s.days)if(r==d&&v.start<s.end&&s.start<v.end)return!0;return!1}function Le(v,s){const r=v.map(c=>{const h=s.sections[c];if(!h)throw new Error(`Unknown course ${c}`);return h}),d=r.flat(1),a={};for(const c of d){a[c.id]=new Set;for(const h of d)c.id!=h.id&&Be(c,h)&&a[c.id].add(h.id)}const o=[];for(const c of Ue(r)){let h=!0;for(const[_,p]of oe(c,2))if(a[_.id].has(p.id)){h=!1;break}h&&o.push(c)}return o}var Oe=x('<div class="day-header svelte-1aez3yn"> </div>'),Re=x('<div class="time-label svelte-1aez3yn"> </div>'),qe=x('<div class="section-instructor svelte-1aez3yn"> </div>'),Ve=x('<div class="section svelte-1aez3yn"><div class="section-time svelte-1aez3yn"> </div> <div class="section-instructor svelte-1aez3yn"> </div> <!></div>'),We=x('<div class="day-column svelte-1aez3yn"><div class="sections-container svelte-1aez3yn"></div></div>'),Ye=x('<div class="schedule-container svelte-1aez3yn"><div class="header svelte-1aez3yn"><div class="time-header svelte-1aez3yn"></div> <!></div> <div class="calendar-body svelte-1aez3yn"><div class="time-column svelte-1aez3yn"></div> <div class="days-container svelte-1aez3yn"></div></div></div>');function je(v,s){be(s,!0);const r=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],d={Mon:0,Tue:1,Wed:2,Thu:3,Fri:4,Sat:5,Sun:6};let a=24*60,o=0;s.schedule.forEach(t=>{a=Math.min(a,t.start),o=Math.max(o,t.end)}),a=Math.floor(a/60)*60,o=Math.ceil(o/60)*60,a=Math.min(a,8*60),o=Math.max(o,15*60);const c=[];for(let t=a;t<=o;t+=60){const e=Math.floor(t/60),n=e===0?12:e>12?e-12:e,m=e<12?"AM":"PM";c.push({time:t,label:`${n}:00 ${m}`})}const h=r.map(()=>[]);s.schedule.forEach(t=>{t.days.forEach(e=>{const n=d[e];n!==void 0&&h[n].push(t)})});function _(t){const e=o-a,n=(t.start-a)/e*100,m=(t.end-t.start)/e*100;return`top: ${n}%; height: ${m}%;`}function p(t){const e=Math.floor(t/60),n=t%60,m=e===0?12:e>12?e-12:e,I=e<12?"AM":"PM";return`${m}:${n.toString().padStart(2,"0")} ${I}`}function k(t){const e=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4","#84cc16"];return e[t%e.length]}var w=Ye(),l=f(w),g=M(f(l),2);Y(g,17,()=>r,j,(t,e)=>{var n=Oe(),m=f(n,!0);u(n),O(()=>D(m,i(e))),y(t,n)}),u(l);var b=M(l,2),S=f(b);Y(S,21,()=>c,j,(t,e)=>{let n=()=>i(e).label;var m=Re(),I=f(m,!0);u(m),O(()=>D(I,n())),y(t,m)}),u(S);var N=M(S,2);Y(N,21,()=>h,j,(t,e)=>{var n=We(),m=f(n);Y(m,21,()=>i(e),j,(I,C,E)=>{var z=Ve(),$=f(z),q=f($);u($);var U=M($,2),B=f(U,!0);u(U);var V=M(U,2);{var K=H=>{var P=qe(),A=f(P,!0);u(P),O(()=>D(A,i(C).instructor)),y(H,P)};R(V,H=>{i(C).instructor&&H(K)})}u(z),O((H,P,A,X)=>{Ae(z,`${H??""} background-color: ${P??""};`),D(q,`${A??""} - ${X??""}`),D(B,i(C).id)},[()=>_(i(C)),()=>k(E),()=>p(i(C).start),()=>p(i(C).end)]),y(I,z)}),u(m),u(n),y(t,n)}),u(N),u(b),u(w),y(v,w),Se()}function _e(v,s){Pe(`/courses?catalog=${encodeURIComponent(i(s))}`)}var Ge=(v,s,r)=>s(i(r).length),Ze=x('<button class="btn svelte-175h8my">← Previous</button>'),Je=(v,s,r)=>s(i(r).length),Ke=x('<button class="btn svelte-175h8my">Next →</button>'),Xe=x('<div class="schedule-controls svelte-175h8my"><!> <div class="schedule-info svelte-175h8my"><span class="schedule-counter svelte-175h8my"> </span></div> <!></div> <div class="schedule-wrapper svelte-175h8my"><!></div>',1),Qe=x(`<div class="page-card svelte-175h8my"><div class="no-schedules svelte-175h8my"><h3 class="svelte-175h8my">No Valid Schedules Found</h3> <p class="svelte-175h8my">Unfortunately, there are no valid schedules possible with your selected courses due to
							time conflicts.</p> <p class="svelte-175h8my">Try removing some courses or selecting different sections.</p></div></div>`),et=x('<div class="page-card svelte-175h8my"><div class="loading svelte-175h8my"><div class="loading-spinner svelte-175h8my"></div> <p class="svelte-175h8my">Generating your schedules...</p></div></div>'),tt=x('<div class="schedule-page svelte-175h8my"><div class="schedule-header svelte-175h8my"><h1 class="page-title svelte-175h8my">Your Schedule Options</h1> <p class="subtitle svelte-175h8my">Here are all possible schedules for your selected courses.</p></div> <!> <div class="navigation svelte-175h8my"><button class="btn svelte-175h8my">← Back to Courses</button> <div class="step-indicator svelte-175h8my"><span class="svelte-175h8my">Step 3 of 3</span></div> <div class="svelte-175h8my"></div></div></div>'),at=x('<div class="page-card svelte-175h8my"><div class="no-courses svelte-175h8my"><h3 class="svelte-175h8my">No Courses Selected</h3> <p class="svelte-175h8my">Please go back and select some courses to generate schedules.</p> <button class="btn btn-primary svelte-175h8my">Select Courses</button></div></div>');function dt(v,s){be(s,!0);let r=ee(""),d=ee(Ie([])),a=ee(0);xe(()=>{let l=new URLSearchParams(window.location.search);W(r,l.get("catalog")??"Fall 2025",!0),W(d,JSON.parse(l.get("courses")??"[]"),!0)});const o=async l=>{let g=s.data.catalogData[i(r)];return new Promise((b,S)=>{b(Le(l,g))})};function c(l){W(a,(i(a)+1)%l)}function h(l){W(a,(i(a)-1+l)%l)}var _=ne(),p=te(_);{var k=l=>{var g=tt(),b=M(f(g),2);De(b,()=>o(i(d)),t=>{var e=et();y(t,e)},(t,e)=>{var n=ne(),m=te(n);{var I=E=>{var z=Xe(),$=te(z),q=f($);{var U=T=>{var L=Ze();L.__click=[Ge,h,e],y(T,L)};R(q,T=>{i(e).length>1&&T(U)})}var B=M(q,2),V=f(B),K=f(V);u(V),u(B);var H=M(B,2);{var P=T=>{var L=Ke();L.__click=[Je,c,e],y(T,L)};R(H,T=>{i(e).length>1&&T(P)})}u($);var A=M($,2),X=f(A);Fe(X,()=>i(a),T=>{je(T,{get schedule(){return i(e)[i(a)]}})}),u(A),O(()=>D(K,`Schedule ${i(a)+1} of ${i(e).length??""}`)),y(E,z)},C=E=>{var z=Qe();y(E,z)};R(m,E=>{i(e).length>0?E(I):E(C,!1)})}y(t,n)});var S=M(b,2),N=f(S);N.__click=[_e,r],$e(4),u(S),u(g),y(l,g)},w=l=>{var g=at(),b=f(g),S=M(f(b),4);S.__click=[_e,r],u(b),u(g),y(l,g)};R(p,l=>{i(d).length>0?l(k):l(w,!1)})}y(v,_),Se()}He(["click"]);export{dt as component};
